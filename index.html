<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="./jquery-3.7.1.js"></script>
		<title>jquery-example</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
			crossorigin="anonymous" />
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
			crossorigin="anonymous"></script>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css"
			integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e"
			crossorigin="anonymous" />
		<link rel="stylesheet" href="./bootstrap-5.3.2-dist/css/bootstrap.css" />
		<link rel="stylesheet" href="./bootstrap-icons/font/bootstrap-icons.css" />
		<link rel="stylesheet" href="style.css" />
		<script defer>
			let items = 0;
			$(document).ready(() => {
				$('button').click(function () {
					$('#button-items').css({
						transform: 'translate(800px,-400px) ',
						transition: '1s',
					});

					setTimeout(() => {
						$('#button-items').css({
							transform: 'translate(0px,-0px) ',
							transition: '0s',
						});
						$('#cart-items').text(
							parseInt($('#cart-items').text()) + parseInt($('#button-items').text())
						);
					}, 1000);
				});
				$('.bi-heart-fill').click(function () {
					$('.bi-heart-fill').toggleClass('text-danger');
					if ($('div.container div b').text() == 'like') {
						$('div.container div b').text('liked');
						$('.bi-heart-fill~div').text(parseInt($('.bi-heart-fill ~div').text()) + 1);
						console.log(
							"ðŸš€ ~ file: index.html:49 ~ $('.bi-heart-fill ~div').val():",
							$('.bi-heart-fill ~div').val()
						);
					} else {
						$('div.container div b').text('like');
						$('.bi-heart-fill~div').text(parseInt($('.bi-heart-fill ~div').text()) - 1);
					}
					$('div.container').animate(
						{
							width: '0px',
						},
						500
					);
					setTimeout(() => {
						$('div.container').animate({
							width: '100%',
						});
					}, 100);
				});
				$('#chat-icon').click(function () {
					$('i+section').toggleClass('hide');
				});
				$('#message-input').keypress(function (e) {
					if (e.originalEvent.key === 'Enter') {
						if ($('#chat-container p:last-of-type').children()[0]?.tagName == 'B') {
							$('#chat-container p:last-of-type').remove();
						}

						$('#chat-container ').append(`
										<p class="right-message clear">${$('#message-input').val()}</p>

						`);
						$('#message-input').val('');
					}
				});
			});
		</script>
		<style>
			.circle {
				width: 1.5rem;
				height: 1.5rem;
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			.chat-radius {
				border-radius: 5rem 5rem 5rem 0rem;
			}
			.hide {
				width: 0;
				height: 0;
				opacity: 0;
			}
		</style>
	</head>
	<body>
		<div class="container-fluid h-100">
			<div class="float-end m-5">
				<div class="position-relative">
					<i class="bi-cart text-white bg-primary p-2 rounded"></i>

					<div
						id="cart-items"
						class="position-absolute bottom-100 end-0 bg-success circle small text-white">
						0
					</div>
				</div>
			</div>

			<div class="top-50 start-50 position-absolute">
				<div class="position-relative">
					<div
						id="button-items"
						class="position-absolute bottom-100 end-0 bg-success circle small text-white">
						1
					</div>

					<button class="btn btn-secondary broder-0 p-2">add to cart</button>
				</div>
			</div>
		</div>
		<div class="bg-danger-subtle p-5">
			<div class="container mh-100 bg-primary-subtle p-5">
				<div class="d-flex align-content-center justify-content-around gap-3">
					<i class="bi-heart-fill"></i>
					<b>like</b>
					<div>29</div>
				</div>
			</div>
		</div>
		<i id="chat-icon" class="bi-chat position-absolute bottom-0 start-0 fs-1 m-1 z-3"></i>
		<section class="position-absolute bottom-0 start-0 hide">
			<header>
				<img src="./1.jpg" alt="user-img" />
				<div>
					<h3>tony stark</h3>
					<p>Today at 12:56</p>
				</div>
			</header>

			<div id="chat-container" class="clear">
				<p class="right-message clear">Hey, man! What's up, Mr Stark?ðŸ‘‹</p>
				<p class="left-message clear">Kid, where'd you come from?</p>
				<p class="right-message clear">Field trip! ðŸ¤£</p>
				<p class="right-message clear">Uh, what is this guy's problem, Mr. Stark? ðŸ¤”</p>
				<p class="left-message clear">
					Uh, he's from space, he came here to steal a necklace from a wizard.
				</p>
				<p class="left-message clear"><b></b> <b></b> <b></b><b></b></p>
			</div>
			<div id="chat-control">
				<button><i class="fa fa-camera"></i></button>
				<button><i class="fa-regular fa-face-grin-beam"></i></button>
				<input type="text" placeholder="Type your message here!" id="message-input" />
				<button><i class="fa fa-microphone"></i></button>
			</div>
		</section>
	</body>
</html>
